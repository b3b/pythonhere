#:kivy 1.0
#:import RootLayout ui_here.layout_here.RootLayout
#:import ScreenName enum_here.ScreenName
#:import ServerState enum_here.ServerState
#:import ServerScreenManager ui_here.server_screen_here.ServerScreenManager
#:include ui_here/actionbar_here.kv
#:include ui_here/common_here.kv
#:include ui_here/connection_address_here.kv
#:include ui_here/server_screen_here.kv
#:include ui_here/settings_here.kv

RootLayout:
    orientation: "vertical"

    ActionBar:
        pos_hint: {"top": 1}

        ActionView:
            ActionPrevious:
                title: ""
                with_previous: False
                app_icon: "data/logo/logo-32.png"

            ScreenActionButton:
                id: open_here_action
                text: f"%{tc('H', 3)}ere"
                screen: ScreenName.here
            ScreenActionButton:
                id: open_settings_action
                text: f"{tc('S', 3)}ettings"
                screen: ScreenName.settings

            ActionButton:
                text: f"{tc('Q', 3)}uit"
                on_release: app.get_running_app().stop()

    ScreenManager:
        id: screen_manager
        Screen:
        Screen:
            id: here_screen
            name: ScreenName.here
            ServerScreenManager:
                id: here_screen_manager
        Screen:
            id: settings_screen
            name: ScreenName.settings
            SettingsHere:
                id: settings
